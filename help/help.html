<!DOCTYPE html>
<html>
	<head>
		<title>beePen help</title>
		<style>
			h5 { font-size: 95%; color: #333; }
			img { max-width: 95%; }
			figure {
			  text-align: center;
			  font-style: italic;
			  font-size: smaller;
			  text-indent: 0;
			  border: thin silver solid;
			  margin: 0.5em;
			  padding: 0.5em;
			}
			figcaption { font-size: 95%; color: #333; }
		</style>
	</head>

	<h2>beePen help</h2>

	<div style="font-size: 90%; font-style: italic;">
		Plugin creators: Mauro Dedonatis (Urbino Univ., Italy, mauro.dedonatis@uniurb.it) and Mauro Alberti (alberti.m65 at gmail.com).
		<br />The original concept is by Mauro DeDonatis, while the implementation is by Mauro Alberti.
	</div>
	<br />
	<div>
		beePen is a Python plugin for drawing freeand annotations and sketches in an ad-hoc layer in QGis. 
		It is inspired by the corresponding tool in <a href="http://www.beegis.org/" target="_blank">BeeGIS</a>.
		and based on the code by Pavol Kapusta in his Frehand Editing plugin. The plugin window is started by the "beePen" command (Fig. 1).
		<br /><br />
		<figure>
		  <p><img src="ims/beepen_icon.png">
		  <figcaption>Fig. 1</figcaption>
		</figure>
		beePen allows to create an annotation layer, that is characterized by three fields, storing: 1) the user-defined width (in map units); 2) the color and transparency of the pen;
		3) the optional note to be associated with each element.
		These value are automatically inserted based on the user choice in the plugin window (Fig. 2).<br />
		<figure>
		  <p><img src="ims/beepen_window.png">
		  <figcaption>Fig. 2</figcaption>
		</figure>
		The created line can be automatically simplified and smoothed by setting the parameters in the window (Fig. 3),
		activated by pressing the "smooth parameters" button in the main plugin window (cf. Fig. 2).
		The simplify tolerance parameter, a distance value in the same unit as the project CRS, regulates which points are
		collapsed into a single vertex: ".. points are removed if the distance with the tentative simplified line is smaller than the tolerance"
		(from <a href="https://gis.stackexchange.com/questions/148585/what-is-simplify-tolerance-in-qgiss-simplify-geometries-tool">
		What is "Simplify tolerance" in QGIS's Simplify geometries tool?</a>).
		The smoothing is based on the Chaikin algorithm. The parameters are the same as the equivalent QGIS smooth function
		(<a href="https://qgis.org/pyqgis/master/core/QgsGeometry.html?highlight=smooth#qgis.core.QgsGeometry.smooth">smooth method</a>):
		<ul>
			<li><p><strong>iterations</strong> - number of smoothing iterations to run. More iterations results
			in a smoother geometry</p></li>
			<li><p><strong>offset</strong> - fraction of line to create new vertices along, between 0 and 1.0,
			e.g., the default value of 0.25 will create new vertices 25% and 75% along each line segment
			of the geometry for each iteration. Smaller values result in “tighter” smoothing.</p></li>
			<li><p><strong>minimumDistance</strong> - minimum segment length to apply smoothing to</p></li>
			<li><p><strong>maxAngle</strong> - maximum angle at node (0-180) at which smoothing will be applied</p></li>
		</ul>
		<figure>
		  <p><img src="ims/smoothing_window.png">
		  <figcaption>Fig. 3</figcaption>
		</figure>
		To draw annotations, create a new annotation layer from the beePen window (see Fig. 2) or load an existing one with QGIS (and style it if necessary
		with the "Style selected layers" command), and then draw annotations by selecting the pen tool (command with pencil icon in Fig. 4).
		You can delete one or more annotations by drawing a line above them with the eraser tool (rightmost command in Fig. 4).<br />
		<figure>
		  <p><img src="ims/beepen_commands.png">
		  <figcaption>Fig. 4</figcaption>
		</figure>
	</div>
	<br /><br />
	<div style="font-style: italic; font-size:80%">Text version: June 8, 2019, by Mauro Alberti</div>


	
	</body>


</html>